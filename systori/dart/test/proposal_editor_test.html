
<!DOCTYPE html>
<html lang="de">

<head>
  
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
<link rel="apple-touch-icon" sizes="57x57" href="/static/img/favicon/apple-touch-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/static/img/favicon/apple-touch-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/static/img/favicon/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/static/img/favicon/apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/static/img/favicon/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/static/img/favicon/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/static/img/favicon/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/static/img/favicon/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/static/img/favicon/apple-touch-icon-180x180.png">
<link rel="icon" type="image/png" href="/static/img/favicon/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/static/img/favicon/favicon-194x194.png" sizes="194x194">
<link rel="icon" type="image/png" href="/static/img/favicon/favicon-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/static/img/favicon/android-chrome-192x192.png" sizes="192x192">
<link rel="icon" type="image/png" href="/static/img/favicon/favicon-16x16.png" sizes="16x16">
<link rel="manifest" href="/static/img/favicon/manifest.json">
<link rel="mask-icon" href="/static/img/favicon/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-TileImage" content="/static/img/favicon/mstile-144x144.png">
<meta name="theme-color" content="#ffffff">

    <title>Test Project > Test Job</title>

    
    <link rel="stylesheet" href="/static/css/jquery-ui.css">
    <link rel="stylesheet" href="/static/css/bootstrap.min.css">
    <link rel="stylesheet" href="/static/css/bootstrap-theme.min.css">
    <link href="/static/css/main.css" rel="stylesheet">
  
</head>


<body>



<!-- Fixed navbar -->
    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container-fluid">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/"><img alt="Systori" src="/static/img/systori_logo_nav.svg" style="margin-top:-10px;"></a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li class="dropdown">
              
                <a class="navbar-brand" href="#">nbfiivXSzlAfFUg</a>
              
            </li>
            <li><a href="/projects/">Projekte</a></li>
            
  <li><a href="/project-2">Test Project</a></li>
  <li class="active"><a href="/project-2/job-1/tasks">Test Job</a></li>

          </ul>

          <form id="set-language" action="/set_language" method="post"><input type='hidden' name='csrfmiddlewaretoken' value='4nBs8idd9UnRl9F7iEcS2V9h2mSsoVLP' />
          <input type="hidden" name="language" value=""/>
        </form>

        <ul class="nav navbar-nav navbar-right">

          
  <li><a href="javascript:window.open('/field/project-2/', 'field-app', 'height=700,width=400,location=no,menubar=no,toolbar=no');">öffne Field App</a>
  </li>


          <li class="dropdown">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown">kjrTDmgMyErKjgE <b class="caret"></b></a>
            <ul class="dropdown-menu">
              <li><a href="/settings">Einstellungen</a></li>
              <li><a href="/logout">Abmelden</a></li>
            </ul>
          </li>

          <li class="dropdown">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown">de<b class="caret"></b></a>
            <ul class="dropdown-menu" role="menu" aria-labelledby="drop3">
              
              
                
              
                
                  <li><a class="language-link" href="#"
                         data-language="en">English</a></li>
                
              
            </ul>
          </li>

        </ul>

        </div><!--/.nav-collapse -->
      </div>
    </nav>




  <div class="container-fluid" style="padding-bottom:100px;">
    <div class="row">
      <div class="col-sm-3 col-md-2 sidebar">
        
  <style>
    @media (max-width: 1269px) {
      .sidebar {
        display: none;
      }

      .main {
        margin-left: 0px;
      }
    }
  </style>
  


  <ul class="nav nav-sidebar">
    <li ><a
        href="/project-2">Projektkarte</a></li>
    <li class="active"><a
        href="/project-2#jobs">Lose</a></li>
    <li ><a
        href="/project-2/plan">Plan</a></li>
    <li ><a
        href="/project-2#proposals">Angebote</a></li>
    <li ><a
        href="/project-2#invoices">Rechnungen</a></li>
    <li ><a
        href="/project-2#contacts">Kontakte</a></li>
  </ul>


      </div>
      <div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main">
        
  <style>

    #task-editor {
    }

    .main {
      margin-bottom:250px;
    }

    ubr-taskgroup,
    ubr-task,
    ubr-taskinstance,
    ubr-lineitem {
      display: block;
      position: relative;
    }

    .editor {
      position: relative;
      padding-bottom: 10px;
    }

    .editor-row {
      display: -webkit-flex;
      display: flex;
    }

    /* task group & task */

    .code {
      width: 80px;
      flex-shrink: 0;
      -webkit-flex-shrink: 0;
    }

    .description {
      margin-left: 80px;
      padding-right: 10px;
      width: 612px;
      flex-shrink: 0;
      -webkit-flex-shrink: 0;
    }

    .qty {
      width: 90px;
      text-align: right;
      align-self: flex-end;
      flex-shrink: 0;
      -webkit-flex-shrink: 0;
    }

    .unit {
      width: 90px;
      padding-left: 4px;
      align-self: flex-end;
      flex-shrink: 0;
      -webkit-flex-shrink: 0;
    }

    .price {
      width: 90px;
      text-align: right;
      padding-right: 4px;
      align-self: flex-end;
      flex-shrink: 0;
      -webkit-flex-shrink: 0;
    }

    .total {
      width: 90px;
      font-weight: bold;
      text-align: right;
      padding-right: 4px;
      margin-left: 10px;
      align-self: flex-end;
      flex-shrink: 0;
      -webkit-flex-shrink: 0;
    }

    .labels {
      padding-left: 20px;
      align-self: flex-end;
      flex-shrink: 0;
      -webkit-flex-shrink: 0;
    }

    .labels > .label:hover {
      cursor: pointer;
    }

    .labels > .label.False {
      display: none;
      background-color: #F0F0F0;
    }

    .editor:hover > .editor-row > .labels > .label.False {
      display: inline;
    }

    /* task group */

    ubr-taskgroup > .editor .name {
      font-weight: bold;
      width: 700px;
      flex-shrink: 0;
      -webkit-flex-shrink: 0;
    }

    ubr-taskgroup > .editor .total {
      width: 100px;
      border: 1px solid black;
      background-color: #fff;
      z-index: 2;
      flex-shrink: 0;
      -webkit-flex-shrink: 0;
    }

    ubr-taskgroup:not(.empty) > .editor:after {
      display: block;
      position: absolute;
      content: "";
      border-left: 1px solid #e9e9e9;
      top: 0px;
      bottom: 0px;
      left: 791px;
      z-index: 1;
    }

    /* task */

    ubr-task:not(:last-child):after {
      display: block;
      position: absolute;
      content: "";
      border-left: 1px solid #e9e9e9;
      top: 0px;
      bottom: 0px;
      left: 791px;
      z-index: 1;
    }

    ubr-task > .editor {
      padding-bottom: 0px;
    }

    ubr-task > .editor .code {
      padding-left: 10px;
      flex-shrink: 0;
      -webkit-flex-shrink: 0;
    }

    ubr-task > .editor .name {
      width: 420px;
      flex-shrink: 0;
      -webkit-flex-shrink: 0;
    }

    ubr-task > .editor .price {
      position: relative;
      font-weight: bold;
      border: 1px solid black;
      margin-left: 10px;
      flex-shrink: 0;
      -webkit-flex-shrink: 0;
    }

    ubr-task > .editor .price:before {
      display: block;
      position: absolute;
      content: "x";
      width: 180px;
      height: 1px;
      padding-right: 2px;
      border-top: 1px solid #e9e9e9;
      top: -1px;
      left: -181px;
      color: #e9e9e9;
      font-size: 8px;
      text-align: right;
    }

    ubr-task > .editor .price:after {
      display: block;
      position: absolute;
      content: "=";
      width: 10px;
      padding-left: 2px;
      border-top: 1px solid #e9e9e9;
      top: 1px;
      right: -11px;
      color: #e9e9e9;
      font-size: 8px;
      text-align: left;
    }

    ubr-task > .editor .total {
      width: 100px;
      border: 1px solid #e9e9e9;
      background-color: #fff;
      z-index: 2;
      flex-shrink: 0;
      -webkit-flex-shrink: 0;
    }

    ubr-task > .editor .total:before {
      display: block;
      position: absolute;
      content: "+";
      height: 10px;
      top: -10px;
      color: #e9e9e9;
      font-size: 9px;
      text-align: left;
      padding-left: 2px;
    }

    ubr-task > .editor .description {
      padding-bottom: 15px;
      flex-shrink: 0;
      -webkit-flex-shrink: 0;
    }

    ubr-task:not(.empty) > .editor .description {
      padding-bottom: 20px;
      border-right: 1px solid #e9e9e9;
    }

    /* task instance */

    ubr-taskinstance > .editor .name {
      width: 612px;
      padding-right: 10px;
      flex-shrink: 0;
      -webkit-flex-shrink: 0;
    }

    ubr-taskinstance:nth-of-type(1) > .editor {
      width: 692px;
      border-right: 1px solid #e9e9e9;
    }

    ubr-taskinstance:nth-of-type(1) > ubr-lineitem > .editor .total {
      border: 1px solid #e9e9e9;
    }

    ubr-taskinstance:nth-of-type(1) > ubr-lineitem > .editor .total:before {
      display: block;
      position: absolute;
      content: "+";
      height: 10px;
      border-left: 1px solid #e9e9e9;
      top: -10px;
      color: #e9e9e9;
      font-size: 9px;
      text-align: left;
      padding-left: 2px;
    }

    ubr-taskinstance:last-of-type {
      padding-bottom: 40px;
    }

    ubr-taskinstance:only-of-type > .editor {
      display: none;
    }

    /* line item */

    ubr-lineitem .name {
      width: 310px;
      margin-left: 100px;
      flex-shrink: 0;
      -webkit-flex-shrink: 0;
    }

    ubr-lineitem .price {
      flex-shrink: 0;
      -webkit-flex-shrink: 0;
    }

    ubr-lineitem > a {
      position: absolute;
      top: -150px;
    }

    div[contenteditable][placeholder]:empty:before {
      content: attr(placeholder);
      font-style: italic;
      color: #d9d9d9;
    }

    div[contenteditable][placeholder]:empty:focus:before {
      content: "";
    }

    ubr-autocomplete {
      z-index: 100;
      display: none;
      position: absolute;
      background: white;
      left: 80px;
      width: 480px;
      border: 1px solid lightgrey;
      top: 20px;
      -webkit-transition: top 0.1s;
      -moz-transition: top 0.1s;
      -ms-transition: top 0.1s;
      -o-transition: top 0.1s;
      transition: top 0.1s;
    }

    ubr-autocomplete > div {
      border-bottom: 1px solid lightgrey;
    }

    /*
    ubr-autocomplete > div:hover {
      background: #FFE8D9;
      cursor: pointer;
    }
    */

    ubr-autocomplete > div.active {
      background: orange;
    }

    #mode-selector {
      position: fixed;
      top: 60px;
      right: 10px;
    }

    .editor-hint {
      color: silver;
      font-style: italic;
      font-size: 85%;
      display: none;
      margin-top: 4px;
      margin-left: 80px;
      margin-bottom: 10px;
    }

    .editor-hint > .label-default {
      background-color: silver;
    }

    .editor-hint .hidden {
      display: none;
    }

    ubr-lineitem .editor-hint {
      margin-left: 100px;
    }

    .job-total-row {
      width: 900px;
      margin-bottom: 10px;
    }
    
    .job-total-label {
      width: 780px;
      display: inline-block;
      font-weight: bold;
      text-align: right;
    }

    .job-total, .job-total-gross {
      text-align: right;
      display: inline-block;
      border-top: 2px solid black;
      font-weight: bold;
      margin-left: 10px;
      width: 100px;
    }


  </style>

  <div id="mode-selector" class="btn-group-vertical" data-toggle="buttons">
    <label id="input-task-mode" class="btn btn-default btn-sm"
           title="Nur Positionen erstellen.">
      <input type="radio" name="input-mode"><span class="glyphicon glyphicon-step-forward"></span>
    </label>
    <label id="input-lineitem-mode" class="btn btn-default btn-sm active"
           title="Positionen mit Kalkulation erstellen.">
      <input type="radio" name="input-mode"><span class="glyphicon glyphicon-fast-forward"></span>
    </label>
  </div>

  <ubr-job id="task-editor"
           data-pk="1"
           data-code="0"
           data-taskgroup-offset="0"
           data-taskgroup-zfill="1"
           data-task-zfill="1">

    
      <ubr-taskgroup
    
    class="empty">
  
<div class="editor">
  <div class="editor-row">
    <div class="code">0.1</div>
    <div class="name" placeholder="Positionsgruppe" contenteditable></div>
    <div class="total">0,00</div>
  </div>
  <div class="description" placeholder="Beschreibung" contenteditable></div>
  <div class="editor-hint">
    <span class="label label-default">Shift </span> <span class="label label-default">Entf</span> dieses Element löschen
    <br>
    <span class="label label-default">Shift </span> <span class="label label-default">Enter</span> neue Position
  </div>
</div>
  
</ubr-taskgroup>
    

    <div class="job-total-row">
      <div class="job-total-label">Summe</div>
      <div class="job-total">0,00</div>
    </div>

    <div class="job-total-row">
      <div class="job-total-label">inkl. MWSt 19,00%</div>
      <div class="job-total-gross" data-tax-rate="0.19">0,00</div>
    </div>
  </ubr-job>

  <template id="taskgroup-template">
    
<div class="editor">
  <div class="editor-row">
    <div class="code">0.1</div>
    <div class="name" placeholder="Positionsgruppe" contenteditable></div>
    <div class="total">0,00</div>
  </div>
  <div class="description" placeholder="Beschreibung" contenteditable></div>
  <div class="editor-hint">
    <span class="label label-default">Shift </span> <span class="label label-default">Entf</span> dieses Element löschen
    <br>
    <span class="label label-default">Shift </span> <span class="label label-default">Enter</span> neue Position
  </div>
</div>
  </template>

  <template id="task-template">
    
<div class="editor">
  <div class="editor-row">
    <div class="code"></div>
    <div class="name" placeholder="Position" contenteditable></div>
    <div class="qty" placeholder="Menge" contenteditable>0,00</div>
    <div class="unit" placeholder="Einheit" contenteditable></div>
    <div class="price"></div>
    <div class="total"></div>
    <div class="labels">
      <span class="is_optional False label label-primary">Bedarf</span>
    </div>
  </div>
  <div class="editor-hint">
    <span class="label label-default">Shift </span> <span class="label label-default">Entf</span> dieses Element löschen
    <br>
    <span class="label label-default">Shift </span> <span class="label label-default">Enter</span> neues Kalkulationselement
    <br>
    <span class="label label-default">Shift </span> <span class="label label-default">alt </span> <span class="label label-default">Enter</span> neue Alternativposition
  </div>
  <div class="description" placeholder="Beschreibung" contenteditable></div>
</div>
  </template>

  <template id="taskinstance-template">
    
<div class="editor">
  <div class="editor-row">
    <div class="code"></div>
    <div class="name" placeholder="Alternative" contenteditable></div>
  </div>
  <div class="description" placeholder="Beschreibung"
       contenteditable></div>
  <div class="editor-hint">
    <span class="label label-default">Shift </span> <span class="label label-default">Entf</span> dieses Element löschen
    <br>
    <span class="label label-default">Shift </span> <span class="label label-default">Enter</span> neues Kalkulationselement
  </div>
</div>
  </template>

  <template id="lineitem-template">
    
<a name="lineitem-None"></a>
<div class="editor">
  <div class="editor-row">
    <div class="name" placeholder="Kalkulationselement" contenteditable></div>
    <div class="qty" placeholder="Menge" contenteditable>0,00</div>
    <div class="unit" placeholder="Einheit" contenteditable></div>
    <div class="price" placeholder="Preis" contenteditable>0,00</div>
    <div class="total">0,00</div>
    <div class="labels">
      <span class="is_flagged False label label-danger">Markierung</span>
    </div>
  </div>
  <div class="editor-hint">
    <span class="label label-default">Shift </span> <span class="label label-default">Entf</span> dieses Element löschen
    <br>
    <span class="label label-default">Shift </span> <span class="label label-default">Enter</span> 
    <span class="blank">neue Position erstellen</span><span class="non-blank">neues Kalkulationselement</span>
  </div>
</div>
  </template>


      </div>
    </div>
  </div>



<script src="/static/js/jquery-1.11.2.min.js"></script>
<script src="/static/js/jquery-ui.min.js"></script>
<script src="/static/js/bootstrap.min.js"></script>


  <script src="/static/js/language_picker.js"></script>

  <script type="application/dart" src="/static/dart/proposal_editor.dart"></script>
  <script src="/static/dart/packages/web_components/webcomponents.min.js"></script>
  <script src="/static/dart/packages/web_components/dart_support.js"></script>
  <script src="/static/dart/packages/browser/dart.js"></script>


</body>
</html>
<link rel="x-dart-test" href="proposal_editor_test.dart">
<script src="packages/test/dart.js"></script>
